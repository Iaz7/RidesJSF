<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<f:view>
   <h:head>
      <title>Create Ride</title>
      <h:outputStylesheet name="css/style.css" />
   </h:head>
   <h:body>
      <div class="form-container">
         <h2>Create Ride</h2>

         <h:form>
            <label for="origin">Depart city:</label>
            <h:inputText id="origin" value="#{createRide.departCity}" required="true">
               <f:ajax event="blur" render="originMessage" />
            </h:inputText>
            <h:message id="originMessage" for="origin" styleClass="error-message" />

            <label for="destination">Arrival city:</label>
            <h:inputText id="destination" value="#{createRide.arrivalCity}" required="true">
               <f:ajax event="blur" render="destinationMessage" />
            </h:inputText>
            <h:message id="destinationMessage" for="destination" styleClass="error-message" />

            <label for="price">Price:</label>
            <h:inputText id="price" value="#{createRide.price}" required="true" validatorMessage="Price must be a number greater than 0.">
               <f:ajax event="blur" render="priceMessage" />
               <f:validateDoubleRange minimum="0.01" />
            </h:inputText>
            <h:message id="priceMessage" for="price" styleClass="error-message" />

            <label for="seats">Seats:</label>
            <h:inputText id="seats" value="#{createRide.seats}" required="true" validatorMessage="Seats must be a number greater than 0.">
               <f:ajax event="blur" render="seatsMessage" />
               <f:validateLongRange minimum="1" />
            </h:inputText>
            <h:message id="seatsMessage" for="seats" styleClass="error-message" />

            <label for="rideDate">Ride Date:</label>
            <p:calendar id="rideDate" value="#{createRide.rideDate}" navigator="true" required="true" pattern="dd/MM/yyyy" mode="inline">
               <p:ajax event="dateSelect" update="rideDateMessage" />
            </p:calendar>
            <h:message id="rideDateMessage" for="rideDate" styleClass="error-message" />

            <div class="button-container">
               <h:commandButton value="Create Ride" action="#{createRide.createRide}" />
               <h:button value="Back" outcome="Index" />
            </div>
         </h:form>
      </div>
   </h:body>
</f:view>
</html>
